# @format

# Agent types and operations
# Auto-generated from table: agents

type Agent {
  id: UUID!
  identifier: String!
  name: String!
  description: String
  category: String
  systemPrompt: String!
  instructions: String
  modelProvider: String
  modelName: String
  temperature: Float
  maxTokens: Int
  availableTools: JSONObject
  maxCostPerRun: Float
  timeoutSeconds: Int
  isActive: Boolean
  version: Int
  createdAt: Time!
  updatedAt: Time!
}

"""
Edge type for Agent
"""
type AgentEdge {
  """
  The item at the end of the edge
  """
  node: Agent!

  """
  A cursor for use in pagination
  """
  cursor: String!
}

"""
Connection type for Agent collection
"""
type AgentConnection {
  """
  A list of edges
  """
  edges: [AgentEdge!]!

  """
  Information to aid in pagination
  """
  pageInfo: PageInfo!

  """
  Total count of items (if available)
  """
  totalCount: Int!

  """
  Available filter scopes with counts
  """
  scopes: [Scope!]!

  """
  Available dynamic filters
  """
  filters: [Filter!]!
}

input CreateAgentInput {
identifier: String
name: String
description: String
category: String
systemPrompt: String
instructions: String
modelProvider: String
modelName: String
temperature: Float
maxTokens: Int
availableTools: JSONObject
maxCostPerRun: Float
timeoutSeconds: Int
isActive: Boolean
version: Int
}

input UpdateAgentInput {
identifier: String
name: String
description: String
category: String
systemPrompt: String
instructions: String
modelProvider: String
modelName: String
temperature: Float
maxTokens: Int
availableTools: JSONObject
maxCostPerRun: Float
timeoutSeconds: Int
isActive: Boolean
version: Int
}

# Queries
extend type Query {
  # Get Agent by ID
  agent(id: UUID!): Agent

  # Get Agent by identifier
  agentByIdentifier(identifier: String!): Agent

  # Get all Agents with scopes and filters
  agents(
    scope: String
    search: String
    filters: JSONObject
    first: Int
    after: String
    last: Int
    before: String
  ): AgentConnection!
}

# Mutations
extend type Mutation {
  # Create new Agent
  createAgent(input: CreateAgentInput!): Agent!

  # Update Agent
  updateAgent(id: UUID!, input: UpdateAgentInput!): Agent!

  # Delete Agent
  deleteAgent(id: UUID!): Boolean!

  # Batch delete Agents
  batchDeleteAgents(ids: [UUID!]!): Int!

  # Set Agent active status
  setAgentActive(id: UUID!, isActive: Boolean!): Agent!

  # Update Agent system prompt
  updateAgentPrompt(id: UUID!, systemPrompt: String!): Agent!

  # Ensure system agents exist
  ensureSystemAgents: Boolean!
}
